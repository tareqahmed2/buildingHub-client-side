import{u as o,r as l,a as g,b as f,c as p,j as s,H as b,N as n,F as u,d as N,e as x,f as y,g as R,h as v,i as k,k as A,l as H,O as w}from"./index-mu0d7ELE.js";const P=()=>{const d=p(),{user:i}=o(),[m,h]=l.useState(!0),[e,j]=l.useState({}),t=g(),c=f();if(l.useEffect(()=>{i!=null&&i.email&&d.get(`/all-users/${i.email}`).then(r=>{j(r.data),h(!1)})},[d,i]),l.useEffect(()=>{c.pathname==="/dashboard"&&((e==null?void 0:e.Role)==="member"||(e==null?void 0:e.Role)==="User"?t("/dashboard/profile"):(e==null?void 0:e.Role)==="admin"&&t("/dashboard/admin-profile"))},[e,t,c.pathname]),m)return s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})});const a=({isActive:r})=>r?"bg-primary text-primary-content font-semibold rounded-lg px-4 py-2 flex items-center gap-3":"hover:bg-primary/20 rounded-lg px-4 py-2 flex items-center gap-3";return s.jsxs("div",{className:"min-h-screen bg-base-200",children:[s.jsx(b,{children:s.jsx("title",{children:"Buildinghub | Dashboard"})}),s.jsxs("div",{className:"max-w-screen-xl mx-auto flex flex-col lg:flex-row",children:[s.jsx("aside",{className:"w-full lg:w-64 bg-base-100 shadow-lg p-6",children:s.jsx("nav",{children:s.jsxs("ul",{className:"menu space-y-2",children:[s.jsx("li",{children:s.jsxs(n,{to:"/",className:a,children:[s.jsx(u,{})," Home"]})}),((e==null?void 0:e.Role)==="member"||(e==null?void 0:e.Role)==="User")&&s.jsx("li",{children:s.jsxs(n,{to:"profile",className:a,children:[s.jsx(N,{})," My Profile"]})}),s.jsx("li",{children:s.jsxs(n,{to:"announcement",className:a,children:[s.jsx(x,{})," Announcements"]})}),(e==null?void 0:e.Role)==="member"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:s.jsxs(n,{to:"make-payment",className:a,children:[s.jsx(y,{})," Make Payment"]})}),s.jsx("li",{children:s.jsxs(n,{to:"payment-history",className:a,children:[s.jsx(R,{})," Payment History"]})})]}),(e==null?void 0:e.Role)==="admin"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:s.jsxs(n,{to:"admin-profile",className:a,children:[s.jsx(v,{})," Admin Profile"]})}),s.jsx("li",{children:s.jsxs(n,{to:"manage-members",className:a,children:[s.jsx(k,{})," Manage Members"]})}),s.jsx("li",{children:s.jsxs(n,{to:"make-announcement",className:a,children:[s.jsx(x,{})," Make Announcement"]})}),s.jsx("li",{children:s.jsxs(n,{to:"agreement-requests",className:a,children:[s.jsx(A,{})," Agreement Requests"]})}),s.jsx("li",{children:s.jsxs(n,{to:"manage-coupons",className:a,children:[s.jsx(H,{})," Manage Coupons"]})})]})]})})}),s.jsx("main",{className:"flex-1 p-6 lg:p-10 bg-base-100 shadow-inner",children:s.jsx(w,{})})]})]})};export{P as default};
